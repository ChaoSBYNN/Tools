# Three-Tier Architecture 传统三层架构

三层架构就是为了符合“高内聚，低耦合”思想，把各个功能模块划分为表示层(UI)、业务逻辑层(BLL)和数据访问层(DAL)的三层架构，各层之间采用接口相互访问，并通过对象模型的实体类(Model)作为数据传递的载体，不同的对象模型的实体类一般对应于数据库的不同表，实体类的属性与数据库表的字段名一致。


传统服务通常使用三层架构：

- 表示层：作为服务暴露的入口，处理所有的外部请求。部分情况下，门面层甚至不需要单独定义对象而是直接使用服务层的实体定义。
- 业务逻辑层：作为核心业务层，包含所有业务逻辑。并对基础层能力进行简单组合提供一定的能力复用。通常服务层会进行实体定义来防止下层对象体直接暴露给外部服务，导致底层任何变化都有可能直接传递到外部，非常不稳定。
- 数据访问层：用来存放dao和外部rpc服务的封装，二者可以拆分为不同的module，也可合二为一，以不同package进行隔离。

三层架构特点就是简单，适用于一些无复杂业务场景的小型应用，或者“数据不可变”作为基础原则的DOP（面向数据编程）服务。

但是当业务场景稍微复杂一些、调用层级较多时，可复用性、可维护性就都非常差了，很多代码都耦合在一起，牵一发动全身。

![三层](https://picx.zhimg.com/80/v2-a840945b8428869e38f58a1a7ec67753_720w.webp?source=1def8aca)

## MVC

MVC全名是Model View Controller，是模型(model)－视图(view)－控制器(controller)的缩写，一种软件设计典范，用一种业务逻辑、数据、界面显示分离的方法组织代码，将业务逻辑聚集到一个部件里面，在改进和个性化定制界面及用户交互的同时，不需要重新编写业务逻辑。MVC被独特的发展起来用于映射传统的输入、处理和输出功能在一个逻辑的图形化用户界面的结构中。

## 三层架构和MVC的区别

MVC（模型Model-视图View-控制器Controller）是一种架构模式，可以用它来创建在域对象和UI表示层对象之间的区分。

同样是架构级别的，相同的地方在于他们都有一个表现层，但是他们不同的地方在于其他的两个层。

在三层架构中没有定义Controller的概念。这是最不同的地方。而MVC也没有把业务的逻辑访问看成两个层，这是采用三层架构或MVC搭建程序最主要的区别。当然了。在三层中也提到了Model，但是三层架构中Model的概念与MVC中Model的概念是不一样的，“三层”中典型的Model层是由业务逻辑与访问数据组成的。而MVC里，则是以实体类构成的。

![MVCvsThree](https://pic4.zhimg.com/v2-6f1dba61cee51b0c930672c540b6df7f_b.jpg)
