# Database per 独享数据库

- [什么是独享数据库（Database per Microservice）？解决了什么问题？](https://blog.csdn.net/weixin_37604985/article/details/130676101)

> 存储 : 为每个微服务提供自己的数据存储

当一家公司将大型单体系统替换成一组微服务，首先要面临的最重要决策是关于数据库。单体架构会使用大型中央数据库。即使转移到微服务架构许多架构师仍倾向于保持数据库不变。虽然有一些短期收益，但它却是反模式的，特别是在大规模系统中，微服务将在数据库层严重耦合，整个迁移到微服务的目标都将面临失败（例如，团队授权、独立开发等问题）。

更好的方法是为每个微服务提供自己的数据存储，这样服务之间在数据库层就不存在强耦合。这里我使用数据库这一术语来表示逻辑上的数据隔离，也就是说微服务可以共享物理数据库，但应该使用分开的数据结构、集合或者表，这还将有助于确保微服务是按照领域驱动设计的方法正确拆分的。

![database](https://picx.zhimg.com/80/v2-8e678270cef80a788ffec429ddd9ff4d_720w.webp?source=1940ef5c)

优点

- 数据由服务完全所有。
- 服务的开发团队之间耦合度降低。

缺点

- 服务间的数据共享变得更有挑战性。
- 在应用范围的保证 ACID 事务变得困难许多。
- 细心设计如何拆分单体数据库是一项极具挑战的任务。

何时使用独享数据库

- 在大型企业应用程序中。
- 当团队需要完全把控微服务以实现开发规模扩展和速度提升。

何时不宜使用独享数据库

- 在小规模应用中。
- 如果是单个团队开发所有微服务。

可用技术示例

所有 SQL、 NoSQL 数据库都提供数据的逻辑分离（例如，单独的表、集合、结构、数据库）。

