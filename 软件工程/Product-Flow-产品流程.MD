# Product Flow

[一次服务上线](https://www.kancloud.cn/kancloud/sina-boot-camp/64005)

> 对于小规模的开发团队，因服务规模比较小，服务的部署可能是很简单的——手动部署代码成本也可控。但对于数十人上百人的开发团队，大规模的分布式系统来说，原来简单的方式就难以运转了。我们急需一套符合软件工程原理的流程体系，来保证我们研发效率、上线服务质量。

## 工程师的日常

- 作为一个工程师，日常工作内容都包括哪些呢？我是否只要写代码就可以了？
- 日常工作中，都需要与哪些同事打交道呢？
- 日常工作中，是否有一些流程需要了解？如何推进项目、事情的进展？

作为一个系统研发工程师, 日常工作的一个总结如下：

1. 主线任务：完成需求开发，推进上线
2. 业务需求：完成各个业务部门产品需求
3. 改造需求：来源于部门内部技术方案、整体架构升级、改造需求
4. 支线任务：提供其他的技术支持, 线上系统问题跟踪, 产品数据分析支持

一个工程师日常最主要的任务即是完成各类需求研发工作。这部分的工作实际上包括两方面的内容：

1) 功能研发，也即通常所说的写代码
2) 推动上线部署

## 上线

> 上线指的是将工程师开发的功能推动到线上生产环境中，为系统面向的用户所使用。

- 在一些中小企业中，因面向的用户总量不大，所需的服务器也无需太大，上线的过程可能会比较简单——开发工程师完成代码的编写后，编译，测试，手动部署可发布包到服务器上重启即可。
- 但在大型的互联网环境中，上述简单的做法面临着很多问题：
    1. 分布式系统环境复杂，上线所涉及到的读写顺序、操作流程更复杂
    2. 同一个系统可能由多个工程师维护，代码的变更涉及到多个功能、多个团队
    3. 系统代码总量大，生命周期长，每一次的变更都有可能带来潜在bug以及严重的故障

> 通过对故障的分析和总结，我们发现约80%的故障都来源于系统变更。即每次上线变更其实都是隐含着很大的风险性的。

但是，作为互联网工程师，我们并不可能因为上线变更所可能带来的风险，就不进行新功能的研发，停止不前。相反，我们根据软件工程的开发流程原理以及业界的一些成熟的经验，结合我们的业务特点，以及自身历史上发生过的几次故障的经验，总结设计出了我们自己的一套的开发、上线流程。总的来说，我们期望能够：

1. 按时、高质量交付需求、功能实现到生产环境
2. 研发过程明确清晰，每一步都是经过充分review的
3. 上线过程步骤明确，较少运维误操作
4. 出事可操作，always have plan B，即使出问题了，我们也可以快速恢复
5. 对研发效率的影响尽可能小

## 研发上线流程说明

我们的研发上线流程由多个步骤组成，需要一步一步完成。对于我们的研发工程师来说，他需要关注每一步的：
1. 该步的检查内容
2. 需要提供的明确的产出物
3. 该步相应的审查人员

![Imgae Caption](/SVG/ProgrammerDeployFlow.SVG)
