可复用性，灵活性，可扩展性，可用性

WEB
BI
DAO
ORM
DB


内聚，松耦合，组件化，模块化	将产品部分分离为一个单独的项目，仅需要更改参数
代码规范	易于他人阅读修改（注释，命名，编写步骤）
页面风格统一
减少代码复杂度，对复杂和关键地方处理，减少嵌套使用
减少变量，表达式长度




注释：有效注释
命名：精确描述，使用有用的命名约定
编写步骤：先写出公共部分
指明依赖关系


测试：
测试案例
性能测试


SOLID原则
1.单一责任原则（SRP）一个类只干一件事
2.开闭原则（OCP）
3.Liskov替换原则（LSP）子类永不打破父类功能
4.借口隔离原则（ISP）把大接口分成小接口和特殊接口
5.依赖倒置原则（DIP）尽可能依赖抽象而不是实现
6.合成"聚合复用原则（CARP, Composite/Aggregate Reuse Principle）
核心思想：在新对象中已有对象，使之成为就对象的成员，从而通过操作这些对象应该尽可能少的和其他软件实体发生相互作用。

这里面都是设计模式中常用的规则。

软件开发思想就是：“用最小的代价，开发出最好的产品，卖最多的钱。”

怎样写出更易维护的代码
1 如果某种类型的常量很多时，尽量将常量写在一个类中。比如某个模块要用到的存储过程和要传入的参数，可以将他们写在一个专门的类中，这样

以后要查找某个存储过程，要修改某个参数就变得非常容易了；
2 尽量使用#region XXX #endregion语法，将一个繁杂的页面分成功能类似的块，清晰明了，易于查找；
3 代码要规范，尽量使用已有框架中的封装代码，有些功能使用自己的方法可以做到，使用封装好了的框架代码也可以做到，这个时候应该是无条件

的使用封装好了的框架代码，日后便于其他人阅读，修改；
4 页面风格尽量统一，有些页面可能用其他的排版更好看，但是考虑到整个网站的页面风格，应该尽量统一，这样易于客户操作，也便于程序员写代

码；
5 变量命名要统一，不能出现无意义的命名，特别是一个团队的代码，你做的代码其他人可能要用到，做到变量命名规范统一，便于程序员阅读；
6 注释要详细，应该每个方法都采用“///”XML的这种方式去予以注释，每个属性都应该给与类似的注释，这样在其他地方调用的时候就会给与方法

说明。这里特别注意属性要注释，只注释字段是不会给与调用提示的；
7 写代码步骤要合理，动手做一个功能模块之前，应该是先定义好各层要使用的公共部分,例如:MODEL(当然不只是Model,还有我第一点说到的那些东

西)，然后定义好两层的接口，最后写实现代码，当然要从DAL写起；
待续......

怎样提高代码架构能力，编写出易扩展，易维护的代码？
By primer · 254 天前 · 799 次点击
这是一个创建于 254 天前的主题，其中的信息可能已经有所发展或是发生改变。
今年本科毕业学生一枚。

我知道v2ex上面藏龙卧虎，想问一下怎么才能提高自己代码架构这方面的能力，就是让自己写出的代码更易维护，易扩展，感觉自己这方面太欠缺。
代码编程能力是有的，但是写出来的代码，越到后面代码越复杂，逻辑也开始混乱了，自己维护起来也吃力。

自己想过重构，无奈水平不够，每次重构效果不明显，也提高一点点。相对那比较庞大的代码，感觉有些吃力。
至于经典设计模式，各种设计模式我都有学习了解过，水平仅仅是会简单套用，会实现。至于在哪个场景用，用得合不合适，用的合不合理，我自己

也不好说。

还有如果现在软件架构基本已经成型了，在后续开发维护中，发现有些不合理的地方，该如何去做，如何去改善？我知道的是慢慢地一点点去重构。

但是我不知道方向，就是说要遵守哪些准则。

上面的是我最近的疑惑，自己思考得不到什么好的结果。不知v2ex上面有没有这样的过来人，能指导一下提高的方向或提供一些意见。 不胜感激。
 代码 重构 设计模式7 回复  |  直到 2013-07-16 12:05:32

降低耦合度，组件化，模块化。对于成型的项目，逐步分离可组件化模块化的内容。
例如一个电子商务网站，可以将产品部分分离为一个单独的项目，评论分离，用户系统分离，类似于这样。
浅见。


编写可读代码的原则
2014-01-08 00:21:28 　　来自: pioneer 
编写可读代码的艺术的评论     5 star rating5 star rating5 star rating5 star rating5 star rating 5 
提示: 有关键情节透露 

　　 正因为缺乏用艺术的心态去审视，所以对于那些长达几百行的函数，跨越上百行的变量，但支撑系统运行了好长时间的代码，我们只是默默吐槽

。对于自身，时隔几周再回过头再看自己的代码，如同《重构》里所说，依然能感受到那股难闻的气味。不得不膜拜那些大师能把这些看似杂乱无章

的操作总结成这样简洁优雅的思想。 
　　 《重构》与《编写可读代码的艺术》都是关于编码的好书，但是侧重点还是有些不同，前者更多关于如何设计和重构类与方法，让代码架构能够

更好地维护与扩展，而后者更关注如何让写出来的代码更易懂，其实这样也是更利于维护。 
　　 为什么要编写可读的代码，一定要有深刻的认识：维护一段代码的时间远大于开发它的时间，即使是开发者本身在几个星期之后也常常不知道自

己写的是什么就更不用指望其它维护者了，因此代码一定要是易于理解的。 
　　 总结一下此书一些重要的准则，可以大大提高代码的易读性： 
　　 1.关于名字，起一个好的名字很重要，无论是变量名还是函数名，选择一个好的名字可以承载很信息，某种程度上是一种更好的注释。在代码里

，名字应该尽量精确、专业、不要有多余，如我们应该考虑是fetchXXX还是downLoadXXX,而不是getXXX, 不要有tmp，var，应该使用$order->id而不

是$order->orderid，等等。有一个重要的原则是不能太长，这样读起来也会吃力，于是我们常常会为名字简单同时又要精确而感到纠结，说明起个好

名字不是简单的事，如同北邮人论坛上各种为小孩征名字的热门帖子。 
　　 2.关于审美，如同好的杂志版面让人伤心悦目，使用一致的布局和规范，让相似的代码看上去相似，把相关的代码行分组，行程代码块， 
　　 3.关于注释，首先不要为了注释而注释，某种程度上，因为需要注释常常因为它不是很好读，这个时候应该先考虑你的函数名和变量名是不是应

该改改。应该注释的地方：为什么是这样而不是那样，代码中的缺陷，读者意料之外的行为等。要写出好的注释，应该使用精确的词（避免it，this

等），尽量精确描述函数行为，声明高层次的意图而非细节，适当使用输入/输出例子，解释难以理解的参数 
　　 4.关于循环和逻辑，应该最小化代码中的’思维包袱’，先处理正逻辑、简单、有趣的情况，减少分支循环嵌套，用提早返回减少分支 
　　 5.关于表达式，越长的表达式越难以理解，可以考虑使用易懂的解释变量或封装成函数，尽量少用三目运算符，少用电路逻辑的特性，如 

isEmpty && doSomethine 
　　 6.关于变量，变量当然是越少越好，太多则难以跟踪它们的动向，要去掉那些临时变量、中间结果、控制流变量。缩小变量的作用域，让你的变

量对尽量少的代码可见，防止命名空间污染。只写一次的变量更好，不断变化的值让人难以理解，跟踪这种变量的值很有难度，只设置一次的变量更

好理解。 
　　 7.关于重构，在这里如果要深入，建议读《重构，改善既有代码的设计》。此书主要从可读性的角度进行概括，最简单的就是抽取子问题

(extract method),这样更容易理解、更好地实现通用。让函数一次只做一件事（我觉得这个也还是需要extract method) 

浅谈如何编码使程序更易维护
九 30
bigwhite技术志 Blog, C, Programmer, 博客, 思考, 程序员, 维护 暂无评论

毕业后就一直从事于服务器端程序的开发，主要客户是中国移动，大家知道移动的产品都是电信级的，稍出差错后果都是严重的，所以在我们平时的

工作中除了研发之外，还有的就是对我们卖给移动的产品的维护性工作，而这种维护性工作要求就是要"迅速解决现场的问题"。这几个月维护工作占

据了我很大一部分精力，说实话，有些烦了，但是从另外一个角度来看，也说明了我们的产品在维护性方面做的不够好，否则移动的工作人员或当地

的技术支持人员通过手册或者查看系统日志的方式就可以解决问题的。这让我反思。

一般来说，我们的产品在交付时都是有详尽的用户手册的，现场人员可以根据维护手册来查找问题所在。另外维护工作也是分层次的，在运行我们产

品的各省移动公司都有我们的当地技术支持人员，而移动自己的网管人员在多年的维护过程中也逐渐的积累了丰富的问题解决经验。一般问题发生后

，移动的人员都会试着自己来尝试解决，当其无法解决时，会将问题告诉当地的技术支持人员，只有在技术支持人员也解决不了问题的时候，问题才

会反馈给我们研发人员，而研发人员就成为了系统的最后一道保护伞了。移动人员的素质我们自然控制不了，我方技术人员我们会尽可能的通过培训

和讲解的方式传授解决问题的办法，并通过他们自己在维护过程中积累经验，但是一旦问题提交给研发人员，我们就需要在远程以最快的时间将问题

解决。

研发人员一般来说对业务熟悉，对功能是如何实现也有把握，但是一个系统往往是很庞大的，很可能是经过"几代人"前离后继"(前人离职了，后人来

继承)完成的，所以到最后很可能整个产品组内没有一个人对整个系统的每个角落都了如指掌的，这时问题就出现了。

对于研发人员来说，他们最擅长的就是通过问题现象去到代码里分析，现场产品因为在运行，一般来说我们不可能去用调试工具直接调试现场运行的

程序的。而问题的现象一般是通过系统日志体现出来的；也就是说在研发人员解决问题这层，系统的运行日志对解决问题起着至关重要的作用。这样

一来系统日志设计的好坏直接会影响到你解决问题的效率和质量。

而通过日志定位问题所在的代码位置一般有如下几个现象：

[现象一]  当你用某一个错误日志去search in project的时候，居然发现：
if (condition1 | condition2 | condition3)
      你查询的日志输出;
输出该日志的条件是多个或的关系，而且每个condition也许是一个复杂的函数调用，这会大大延长你跟踪问题的时间；

解决方法：
a) 尽量减少condition1 | condition2 | condition3的使用；
b) 对于复杂和关键地方的处理，给出"点睛"的注释；

[现象二] 当你用某一个错误日志去search in project的时候，居然发现：
Project中存在不止一条这样的错误日志，其位置可能分布在Project的不同源文件中的不同位置。这同样会大大延长你跟踪问题的时间和难度。

解决方法：
我们套用"幸福的家庭往往是相同的,不幸的家庭各有各的不幸"来说明：成功的日志往往格式相同，失败的日志各有各的特征。如果每条错误日志的特

点都不相同，那么当我们search的时候，就可以一次定位问题所在了。

[现象三] 当你用某一个错误日志去search in project的时候，居然发现：
该日志是在一个宏的定义中输出的，而该宏散布在Project的各个角落。

解决方法：
不要在宏(广泛使用的宏)中做任何日志输出。

当然上述的某些解决方法可能与代码的可读性或者精炼性有悖，这就要看你是如何抉择的了，根据具体情况三思而后行。

另外对于查找问题而言，关键而详尽的注释会给研发人员带来很大帮助，否则他就很可能陷入复杂的业务逻辑中，长时间不能自拔了。

以上一点私人见解，仅供参考。
